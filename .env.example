# =============================================================================
# Khorium MeshGen - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to Git (it's in .gitignore)

# -----------------------------------------------------------------------------
# Flask Environment
# -----------------------------------------------------------------------------
FLASK_ENV=development  # Options: development, production, staging
FLASK_DEBUG=true
SECRET_KEY=your-secret-key-change-me
JWT_SECRET_KEY=your-jwt-secret-change-me

# -----------------------------------------------------------------------------
# Modal Compute (Serverless Meshing)
# -----------------------------------------------------------------------------
# Set to 'true' to enable Modal for mesh generation
USE_MODAL_COMPUTE=true
MODAL_APP_NAME=khorium-production
MODAL_MESH_FUNCTION=generate_mesh
MODAL_PREVIEW_FUNCTION=generate_preview_mesh

# Get Modal tokens from: https://modal.com/settings
# Run: modal token set --token-id xxx --token-secret yyy
MODAL_TOKEN_ID=
MODAL_TOKEN_SECRET=

# -----------------------------------------------------------------------------
# AWS S3 Storage (Required for Modal)
# -----------------------------------------------------------------------------
USE_S3=true
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key
AWS_REGION=us-west-1
S3_BUCKET_NAME=muaz-webdev-assets

# -----------------------------------------------------------------------------
# Database (Local Development uses SQLite by default)
# -----------------------------------------------------------------------------
# For PostgreSQL (production/staging):
# DATABASE_URL=postgresql://user:password@host:5432/dbname
# DB_HOST=your-rds-endpoint.us-west-1.rds.amazonaws.com
# DB_USER=meshgen_user
# DB_PASSWORD=your-db-password
# DB_NAME=meshgen_db
# DB_PORT=5432

# -----------------------------------------------------------------------------
# CORS (Frontend Origins)
# -----------------------------------------------------------------------------
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173

# -----------------------------------------------------------------------------
# File Upload Limits
# -----------------------------------------------------------------------------
MAX_FILE_SIZE_MB=500
BATCH_MAX_FILES=10
BATCH_PARALLEL_JOBS=6

# -----------------------------------------------------------------------------
# Usage Limits & Rate Limiting
# -----------------------------------------------------------------------------
DEFAULT_JOB_QUOTA=25      # Max jobs per day per user
USER_TIME_WINDOW_MIN=15   # Window for 'time online' calculation

# -----------------------------------------------------------------------------
# Celery/Redis (Optional - for batch processing)
# -----------------------------------------------------------------------------
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0
# SOCKETIO_MESSAGE_QUEUE=redis://localhost:6379/1

# -----------------------------------------------------------------------------
# Slack Notifications (Optional)
# -----------------------------------------------------------------------------
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# -----------------------------------------------------------------------------
# Compute Backend (Advanced)
# -----------------------------------------------------------------------------
# Options: auto, local, ssh_tunnel, remote_http, modal
COMPUTE_BACKEND=auto
# SSH_TUNNEL_PORT=8080
# REMOTE_COMPUTE_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# Miscellaneous Configuration
# -----------------------------------------------------------------------------
COMPUTE_MODE=LOCAL
FRONTEND_URL=http://localhost:5173
IS_DOCKER_CONTAINER=false

# -----------------------------------------------------------------------------
# Email / SMTP Configuration
# -----------------------------------------------------------------------------
# Leave empty if email notifications are not needed
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USERNAME=your-email@gmail.com
# MAIL_PASSWORD=your-app-password
# MAIL_DEFAULT_SENDER=noreply@khorium.ai
